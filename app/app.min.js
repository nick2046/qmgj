var app = angular.module('qmgj',['ui.router']);
app.controller("developController",["$scope",function($scope){
	console.log('develop')
}])
app.controller("forgetController",["$scope",function($scope){
	console.log('forget')
}])
app.controller("homepageController", ["$scope", "$interval", function($scope, $interval) {
    $scope.slideImg = [{
        proImg: 'img/banner.png',
        proId: '1'
    }, {
        proImg: 'img/hot-img.png',
        proId: '2'
    }];
    // 轮播图
    $scope.showIndex = 0;
    var inter = $interval(function() {
        if ($scope.showIndex >= $scope.slideImg.length - 1) {
            $scope.showIndex = 0;
            return;
        }
        $scope.showIndex++;
    }, 2500);

    $scope.showCurrentFn = function(index) {
        $scope.showIndex = index;
        $interval.cancel(inter);
        inter = $interval(function() {
            if ($scope.showIndex >= $scope.slideImg.length - 1) {
                $scope.showIndex = 0;
                return;
            }
            $scope.showIndex++;
        }, 2500);
    };

    var hotPro = [{
        imgSrc: 'img/hot-img.png',
        proName: '《晚秋》再现江湖',
        proCon: 'by 韩国宝蓝影业有限公司',
        proInfo: '《晚秋》根据李满熙导演1966年的同名电影改编而成，影片以美国西雅图为背景，讲述两名男女在异国他乡的爱情故事。',
        proType: 1,
        proProcess: '46%',
        proMoney: '1234',
        proPeople: '123',
        proDays: '12'
    }, {
        imgSrc: 'img/hot-img2.png',
        proName: '《封神传奇》再现江湖',
        proCon: '中国星',
        proInfo: '超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司',
        proType: 2,
        proProcess: '12%',
        proMoney: '3789',
        proPeople: '323',
        proDays: '22'
    }, {
        imgSrc: 'img/hot-img3.png',
        proName: '《超脑特工》再现江湖',
        proCon: '东印度',
        proInfo: '超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司',
        proType: 0,
        proProcess: '50%',
        proMoney: '1423',
        proPeople: '1223',
        proDays: '5'
    }, {
        imgSrc: 'img/hot-img4.png',
        proName: '《11111》再现江湖',
        proCon: '2222',
        proInfo: '超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司超模明星足球队授权电影制作公司',
        proType: 3,
        proProcess: '30%',
        proMoney: '14232',
        proPeople: '12233',
        proDays: '0'
    }];
    $scope.prosType = ['微电影', '话剧', '电影','电视剧'];
    $scope.showPro = hotPro[0];
    $scope.showProIndex = $scope.showPro.proType;
    $scope.showProFn = function(i){
    	$scope.showProIndex = i;
    	for(var j = 0;j < hotPro.length;j++){
    		if( i == hotPro[j].proType ){
    			$scope.showPro = hotPro[j];
    			break;
    		}
    	}
    }

}]);

app.controller("imgController",["$scope",function($scope){
	console.log('img')
}])
app.controller("itemcontentController",["$scope",function($scope){
	console.log('itemcontent')
}])
app.controller("itemlistController",["$scope",function($scope){
	console.log('itemlist')
}])
app.controller("loginController",["$scope",function($scope){
	console.log('login')
}]);
app.controller("logonController",["$scope",function($scope){
	console.log('logon')
}])
app.controller('passwordController',['$scope',function($scope){
	console.log('password')
}])
app.controller('pay2Controller',['$scope',function($scope){
	console.log('pay2')
}])
app.controller('pay3Controller',['$scope',function($scope){
	console.log('pay3')
}])
app.controller('payController',['$scope',function($scope){
	console.log('pay')
}])
app.controller('personalController',['$scope',function(){
	console.log('personal')
}])
app.controller('personalguanzhuController',['$scope',function($scope){
	console.log('personalguanzhuController');
}])
app.controller('personalhomepageController',['$scope',function($scope){
	console.log('personalhomepageController');
	$scope.nav = [
	{name:'个人主页',view:'personalhomepage.personal'},
	{name:'个人信息',view:'personalhomepage.personalmessage'},
	{name:'安全设置',view:'personalhomepage.personalshezhi.password'},
	{name:'关注的圈子',view:'personalhomepage.personalguanzhu'},
	{name:'购买记录',view:'personalhomepage.personaljilu'}
	];
	$scope.showIndex = function (a){
		$scope.show = a;
	}	
}])
app.controller('personaljiluController',['$scope',function($scope){
	console.log('personaljiluController')
}])
app.controller('personalmessageController',['$scope',function($scope){
	console.log('personalmessageController');
}])
app.controller('personalshezhiController',['$scope',function($scope){
	console.log('personalshezhiController')
}])
app.controller('renzhengController',['$scope',function($scope){
	console.log('renzhengController');
}])
app.controller("youxiangController",['$scope',function($scope){
	console.log('youxiangController')
}])

app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){
	// 官网首页
	$urlRouterProvider.otherwise('homepage');
	$stateProvider
	// .state('home',{
	// 	url:"/home",
	// 	templateUrl:'home.html',
	// 	controller:'homeController'
	// })
	.state('homepage',{
		url:'/homepage',
		templateUrl:'homepage.html',
		controller:'homepageController'
	})
	.state('login',{
		url:'/login',
		templateUrl:'view/login.html',
		controller:'loginController'
	})
	.state('logon',{
		url:'/logon',
		templateUrl:'view/logon.html',
		controller:'logonController'
	})
	.state('forget',{
		url:'/forget',
		templateUrl:'view/forget.html',
		controller:'forgetController'
	})
	.state('itemlist',{
		url:'/itemlist',
		templateUrl:'view/itemlist.html',
		controller:'itemlistController'
	})
	.state('itemcontent',{
		url:'/itemcontent',
		templateUrl:'view/itemcontent.html',
		controller:'itemcontentController'
	})
	.state('itemcontent.img',{
		url:'/img',
		templateUrl:'view/img.html',
		controller:'imgController'
	})
	.state('itemcontent.develop',{
		url:'/develop',
		templateUrl:'view/develop.html',
		controller:'developController'
	})
	.state('pay',{
		url:'/pay',
		templateUrl:"view/pay.html",
		controller:'payController'
	})
	.state('pay2',{
		url:'/pay2',
		templateUrl:"view/pay2.html",
		controller:'pay2Controller'
	})
	.state('pay3',{
		url:'/pay3',
		templateUrl:"view/pay3.html",
		controller:'pay3Controller'
	})
	.state('personalhomepage',{
		url:'/personalhomepage',
		templateUrl:'view/personalhomepage.html',
		controller:'personalhomepageController'
	})
	.state('personalhomepage.personal',{
		url:'/personal',
		templateUrl:'view/personal.html',
		controller:'personalController'
	})
	.state('personalhomepage.personalmessage',{
		url:'/personalmessage',
		templateUrl:'view/personalmessage.html',
		controller:'personalmessageController'
	})
	.state('personalhomepage.personalshezhi',{
		url:'/personalshezhi',
		templateUrl:'view/personalshezhi.html',
		controller:'personalshezhiController'
	})
	.state('personalhomepage.personalguanzhu',{
		url:'/personalguanzhu',
		templateUrl:'view/personalguanzhu.html',
		controller:'personalguanzhuController'
	})
	.state('personalhomepage.personaljilu',{
		url:'/personaljilu',
		templateUrl:'view/personaljilu.html',
		controller:'personaljiluController'
	})
	.state('personalhomepage.personalshezhi.password',{
		url:'/password',
		templateUrl:'view/password.html',
		controller:'passwordController'
	})
	.state('personalhomepage.personalshezhi.renzheng',{
		url:'/renzheng',
		templateUrl:'view/renzheng.html',
		controller:'renzhengController'
	})
	.state('personalhomepage.personalshezhi.youxiang',{
		url:'/youxiang',
		templateUrl:'view/youxiang.html',
		controller:'youxiangController'
	})
	
}]);

